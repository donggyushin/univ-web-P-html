{"id":"perspectiveTransform.htm","dependencies":[{"name":"./index.js","dynamic":true,"resolved":"/Users/jwajunhyeob/Documents/parcel-workspace/univ-school-web-P/index.js","parent":"/Users/jwajunhyeob/Documents/parcel-workspace/univ-school-web-P/perspectiveTransform.htm"},{"name":"_css_loader","parent":"/Users/jwajunhyeob/Documents/parcel-workspace/univ-school-web-P/perspectiveTransform.htm","resolved":"/Users/jwajunhyeob/.config/yarn/global/node_modules/parcel-bundler/src/builtins/css-loader.js"},{"name":"/Users/jwajunhyeob/Documents/parcel-workspace/univ-school-web-P/package.json","includedInParent":true,"mtime":1558158261777}],"generated":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <link href=\"https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap\" rel=\"stylesheet\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js\"></script>\n    <!-- for hot module reloading -->\n    <script src=\"/168726dbe96b3ce427e7fedce31bb0bc.js\"></script>\n    <title>Document</title>\n    <style>html,\n      body,\n      div,\n      span,\n      applet,\n      object,\n      iframe,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      p,\n      blockquote,\n      pre,\n      a,\n      abbr,\n      acronym,\n      address,\n      big,\n      cite,\n      code,\n      del,\n      dfn,\n      em,\n      img,\n      ins,\n      kbd,\n      q,\n      s,\n      samp,\n      small,\n      strike,\n      strong,\n      sub,\n      sup,\n      tt,\n      var,\n      b,\n      u,\n      i,\n      center,\n      dl,\n      dt,\n      dd,\n      ol,\n      ul,\n      li,\n      fieldset,\n      form,\n      label,\n      legend,\n      table,\n      caption,\n      tbody,\n      tfoot,\n      thead,\n      tr,\n      th,\n      td,\n      article,\n      aside,\n      canvas,\n      details,\n      embed,\n      figure,\n      figcaption,\n      footer,\n      header,\n      hgroup,\n      menu,\n      nav,\n      output,\n      ruby,\n      section,\n      summary,\n      time,\n      mark,\n      audio,\n      video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        background-color: #2c3e50;\n      }\n\n      .perspectiveTransform__container {\n        background-color: #2c3e50;\n        min-width: 100vw;\n        min-height: 100vh;\n        display: flex;\n        flex-direction: column;\n        color: white;\n        font-family: \"Nanum Gothic\", sans-serif;\n      }\n\n      /* from here */\n\n      .navigationContainer {\n        display: flex;\n        justify-content: space-between;\n        padding: 15px;\n        padding-left: 50px;\n        padding-right: 30px;\n        align-items: flex-end;\n      }\n\n      .navigationContainer_left_logoOrName {\n        margin-right: 50px;\n        font-weight: 900;\n        font-size: 25px;\n        cursor: pointer;\n      }\n\n      .navigationContainer_left_aTag__text {\n        margin-right: 20px;\n        cursor: pointer;\n        font-size: 14px;\n        width: 170px;\n        height: 27px;\n        display: flex;\n        align-items: flex-end;\n        transition: 0.2s ease-in-out;\n      }\n\n      .navigationContainer_left_aTag__text:hover {\n        font-size: 16px;\n      }\n\n      .navigationContainer_left {\n        display: flex;\n        align-items: flex-end;\n      }\n\n      .navigationContainer_left_aTag {\n        display: flex;\n      }\n      .navigationContainer_right {\n      }\n\n      .navigationContainer_right_logout {\n        display: flex;\n        align-items: flex-end;\n        cursor: pointer;\n      }\n\n      /* to here, navigation bar css */\n\n      .perspectiveTransform__container__body {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding-top: 50px;\n        padding-bottom: 150px;\n      }\n\n      .perspectiveTransform__container__body__file_input_container {\n        position: relative;\n      }\n\n      .perspectiveTransform__container__body__file_input {\n        position: absolute;\n        opacity: 0;\n        width: 210px;\n        cursor: pointer;\n      }\n\n      .perspectiveTransform__container__body__img {\n        -webkit-box-shadow: 10px 10px 32px 0px rgba(0, 0, 0, 0.75);\n        -moz-box-shadow: 10px 10px 32px 0px rgba(0, 0, 0, 0.75);\n        box-shadow: 10px 10px 32px 0px rgba(0, 0, 0, 0.75);\n        /* z-index: 3; */\n      }\n\n      .perspectiveTransform__container__body__img_container {\n        position: relative;\n        overflow-x: auto;\n        text-align: center;\n        max-width: 100%;\n        /* z-index: 4; */\n      }\n\n      .perspectiveTransform__container__body__img_container__canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border: 1px solid white;\n        background: transparent;\n      }\n\n      .perspectiveTransform__container__body__file_input_container_text_button {\n        width: 210px;\n        margin-bottom: 40px;\n      }\n\n      .perspectiveTransform__container__body_button {\n        width: 150px;\n        height: 50px;\n\n        font-size: 30px;\n        color: white;\n        background-color: #3498db;\n        border: 0;\n        border-radius: 5px;\n        margin-top: 40px;\n        -webkit-box-shadow: 10px 10px 20px 0px rgba(0, 0, 0, 0.75);\n        -moz-box-shadow: 10px 10px 20px 0px rgba(0, 0, 0, 0.75);\n        box-shadow: 10px 10px 20px 0px rgba(0, 0, 0, 0.75);\n        cursor: pointer;\n      }</style>\n  </head>\n  <script>var point1 = {\n  x: null,\n  y: null\n};\nvar point2 = {\n  x: null,\n  y: null\n};\nvar point3 = {\n  x: null,\n  y: null\n};\nvar point4 = {\n  x: null,\n  y: null\n};\nvar file = null;\nvar base64 = null;\n\nfunction previewFile() {\n  var preview = document.querySelector(\"img\"); // img 태그를 선택한다.\n\n  var imageContainer = $(\".perspectiveTransform__container__body__img_container\");\n  file = document.querySelector(\"input[type=file]\").files[0]; // input 타입이 file 인 태그에서의 첫번째 파일을 가져온다.\n\n  var reader = new FileReader();\n\n  reader.onloadend = function () {\n    preview.src = reader.result; // base64 파일\n\n    base64 = reader.result;\n    imageContainer.background = reader.result;\n  };\n\n  if (file) {\n    reader.readAsDataURL(file);\n  } else {\n    preview.src = \"\";\n  }\n}\n\npreviewFile();\n\nfunction clickOnTheImage() {\n  if (point1.x == null && point1.y == null) {\n    point1.x = event.offsetX;\n    point1.y = event.offsetY;\n    $(\".perspectiveTransform__container__body__img_container\").append($(\"<div class=\\\"point1\\\" draggable=\\\"true\\\" ondrag=\\\"dragPoint(event)\\\" ondragend=\\\"dragEnd(event)\\\"></div>\").css({\n      position: \"absolute\",\n      top: point1.y - 5 + \"px\",\n      left: point1.x - 5 + \"px\",\n      width: \"10px\",\n      height: \"10px\",\n      background: \"white\"\n    }).css(\"border-radius\", \"50%\").css(\"z-index\", \"3\"));\n  } else if (point2.x == null && point2.y == null) {\n    point2.x = event.offsetX;\n    point2.y = event.offsetY;\n    $(\".perspectiveTransform__container__body__img_container\").append($(\"<div class=\\\"point2\\\" draggable=\\\"true\\\" ondrag=\\\"dragPoint(event)\\\" ondragend=\\\"dragEnd(event)\\\"></div>\").css({\n      position: \"absolute\",\n      top: point2.y - 5 + \"px\",\n      left: point2.x - 5 + \"px\",\n      width: \"10px\",\n      height: \"10px\",\n      background: \"white\"\n    }).css(\"border-radius\", \"50%\").css(\"z-index\", \"3\"));\n    createLine(point1.x, point1.y, point2.x, point2.y, \"line1\");\n  } else if (point3.x == null && point3.y == null) {\n    point3.x = event.offsetX;\n    point3.y = event.offsetY;\n    $(\".perspectiveTransform__container__body__img_container\").append($(\"<div class=\\\"point3\\\" draggable=\\\"true\\\" ondrag=\\\"dragPoint(event)\\\" ondragend=\\\"dragEnd(event)\\\"></div>\").css({\n      position: \"absolute\",\n      top: point3.y - 5 + \"px\",\n      left: point3.x - 5 + \"px\",\n      width: \"10px\",\n      height: \"10px\",\n      background: \"white\"\n    }).css(\"border-radius\", \"50%\").css(\"z-index\", \"3\"));\n    createLine(point2.x, point2.y, point3.x, point3.y, \"line2\");\n  } else if (point4.x == null && point4.y == null) {\n    point4.x = event.offsetX;\n    point4.y = event.offsetY;\n    $(\".perspectiveTransform__container__body__img_container\").append($(\"<div class=\\\"point4\\\" draggable=\\\"true\\\" ondrag=\\\"dragPoint(event)\\\" ondragend=\\\"dragEnd(event)\\\"></div>\").css({\n      position: \"absolute\",\n      top: point4.y - 5 + \"px\",\n      left: point4.x - 5 + \"px\",\n      width: \"10px\",\n      height: \"10px\",\n      background: \"white\"\n    }).css(\"border-radius\", \"50%\").css(\"z-index\", \"3\"));\n    createLine(point3.x, point3.y, point4.x, point4.y, \"line3\");\n    createLine(point4.x, point4.y, point1.x, point1.y, \"line4\");\n  } // else {\n  //   alert(\"모든 점의 좌표를 클릭하였습니다. \");\n  // }\n\n}\n\nfunction createLine(x1, y1, x2, y2, lineId) {\n  // the distance between the two points(for the line div width)\n  distance = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)); // the mid-point between the two points, we use it as rotation center\n\n  xMid = (x1 + x2) / 2;\n  yMid = (y1 + y2) / 2; // get the salope of the line between two points\n\n  salopeInRadian = Math.atan2(y1 - y2, x1 - x2);\n  salopeInDegree = salopeInRadian * 180 / Math.PI; // change the css of the line\n\n  line = document.getElementById(lineId);\n  line.style.width = distance + \"px\";\n  line.style.top = yMid + \"px\";\n  line.style.left = xMid - distance / 2 + \"px\";\n  line.style.border = \"1px solid white\";\n  line.style.transform = \"rotate(\" + salopeInDegree + \"deg)\";\n  line.style.position = \"absolute\";\n}\n\nfunction dragPoint(e) {\n  if (point4.x == null) {\n    return;\n  }\n\n  var classname = e.target.className;\n  var point = e.target;\n  var pointsXOffSet = e.pageX;\n  var pointsYOffSet = e.pageY;\n  var container = $(\".perspectiveTransform__container__body__img_container\").offset();\n  point.style.background = \"transparent\";\n\n  if (pointsXOffSet == 0 || pointsYOffSet == 0) {\n    return;\n  }\n\n  var imageContainerLeftOffset = container.left;\n  var imageContainerTopOffset = container.top;\n  var relativeXOffset = pointsXOffSet - imageContainerLeftOffset;\n  var relativeYOffset = pointsYOffSet - imageContainerTopOffset;\n\n  if (classname == \"point1\") {\n    point1.x = relativeXOffset;\n    point1.y = relativeYOffset;\n    createLine(point1.x, point1.y, point2.x, point2.y, \"line1\");\n    createLine(point4.x, point4.y, point1.x, point1.y, \"line4\");\n  } else if (classname == \"point2\") {\n    point2.x = relativeXOffset;\n    point2.y = relativeYOffset;\n    createLine(point2.x, point2.y, point3.x, point3.y, \"line2\");\n    createLine(point1.x, point1.y, point2.x, point2.y, \"line1\");\n  } else if (classname == \"point3\") {\n    point3.x = relativeXOffset;\n    point3.y = relativeYOffset;\n    createLine(point3.x, point3.y, point4.x, point4.y, \"line3\");\n    createLine(point2.x, point2.y, point3.x, point3.y, \"line2\");\n  } else if (classname == \"point4\") {\n    point4.x = relativeXOffset;\n    point4.y = relativeYOffset;\n    createLine(point4.x, point4.y, point1.x, point1.y, \"line4\");\n    createLine(point3.x, point3.y, point4.x, point4.y, \"line3\");\n  }\n}\n\nfunction dragEnd(e) {\n  if (point4.x == null) {\n    return;\n  }\n\n  var point = e.target;\n  var classname = e.target.className;\n  var pointsXOffSet = e.pageX;\n  var pointsYOffSet = e.pageY;\n  var container = $(\".perspectiveTransform__container__body__img_container\").offset();\n  var imageContainerLeftOffset = container.left;\n  var imageContainerTopOffset = container.top;\n  var relativeXOffset = pointsXOffSet - imageContainerLeftOffset;\n  var relativeYOffset = pointsYOffSet - imageContainerTopOffset;\n  point.style.top = relativeYOffset - 5 + \"px\";\n  point.style.left = relativeXOffset - 5 + \"px\";\n  point.style.background = \"white\";\n\n  if (classname == \"point1\") {\n    point1.x = relativeXOffset;\n    point1.y = relativeYOffset;\n    createLine(point1.x, point1.y, point2.x, point2.y, \"line1\");\n    createLine(point4.x, point4.y, point1.x, point1.y, \"line4\");\n  } else if (classname == \"point2\") {\n    point2.x = relativeXOffset;\n    point2.y = relativeYOffset;\n    createLine(point2.x, point2.y, point3.x, point3.y, \"line2\");\n    createLine(point1.x, point1.y, point2.x, point2.y, \"line1\");\n  } else if (classname == \"point3\") {\n    point3.x = relativeXOffset;\n    point3.y = relativeYOffset;\n    createLine(point3.x, point3.y, point4.x, point4.y, \"line3\");\n    createLine(point2.x, point2.y, point3.x, point3.y, \"line2\");\n  } else if (classname == \"point4\") {\n    point4.x = relativeXOffset;\n    point4.y = relativeYOffset;\n    createLine(point4.x, point4.y, point1.x, point1.y, \"line4\");\n    createLine(point3.x, point3.y, point4.x, point4.y, \"line3\");\n  }\n}</script>\n\n  <body>\n    <div class=\"perspectiveTransform__container\">\n      <div class=\"navigationContainer\">\n        <div class=\"navigationContainer_left\">\n          <div class=\"navigationContainer_left_logoOrName\">\n            MAN DOO\n          </div>\n          <div class=\"navigationContainer_left_aTag\">\n            <div class=\"navigationContainer_left_aTag__text\">\n              perspective transform\n            </div>\n            <div class=\"navigationContainer_left_aTag__text\">\n              colorize images\n            </div>\n            <div class=\"navigationContainer_left_aTag__text\">\n              DOC\n            </div>\n          </div>\n        </div>\n        <div class=\"navigationContainer_right\">\n          <div class=\"navigationContainer_right_logout\">\n            logout\n          </div>\n        </div>\n      </div>\n      <div class=\"perspectiveTransform__container__body\">\n        <div class=\"perspectiveTransform__container__body__file_input_container\">\n          <input type=\"file\" name=\"image\" class=\"perspectiveTransform__container__body__file_input\" onchange=\"previewFile()\">\n          <div class=\"perspectiveTransform__container__body__file_input_container_text_button\">\n            Click here to upload image!\n          </div>\n        </div>\n        <div draggable=\"false\" class=\"perspectiveTransform__container__body__img_container\">\n          <img src=\"#\" class=\"perspectiveTransform__container__body__img\" alt=\"preview image\" onclick=\"clickOnTheImage()\" draggable=\"false\">\n\n          <div class=\"line\" id=\"line1\"></div>\n          <div class=\"line\" id=\"line2\"></div>\n          <div class=\"line\" id=\"line3\"></div>\n          <div class=\"line\" id=\"line4\"></div>\n        </div>\n\n        <button class=\"perspectiveTransform__container__body_button\">\n          NEXT\n        </button>\n      </div>\n    </div>\n  </body>\n</html>\n"},"hash":"d297dcd07cc6ee47fb6be7dc422a2b48","cacheData":{"env":{}}}